<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: "Lato", sans-serif;
        }
    </style>
    <link rel="stylesheet" th:href="@{css/image_gallery.css}"/>
    <link rel="stylesheet" th:href="@{css/sidebar.css}"/>
    <link rel="stylesheet" th:href="@{css/tree_view.css}"/>
</head>
<body>
<div id="mySidebar" class="sidebar">
<!--    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">Ã—</a> -->
    <!--    <a href="#">About</a>-->
    <!--    <a href="#">Services</a>-->
    <!--    <a href="#">Clients</a>-->
    <!--    <a href="#">Contact</a>-->
    <ul id="myUL">
        <li class="tree_view_text"><span class="caret">Beverages</span>
            <ul class="nested">
                <li class="tree_view_text">Water</li>
                <li class="tree_view_text">Coffee</li>
                <li class="tree_view_text"><span class="caret">Tea</span>
                    <ul class="nested">
                        <li class="tree_view_text">Black Tea</li>
                        <li class="tree_view_text">White Tea</li>
                        <li class="tree_view_text"><span class="caret">Green Tea</span>
                            <ul class="nested">
                                <li class="tree_view_text">Sencha</li>
                                <li class="tree_view_text">Gyokuro</li>
                                <li class="tree_view_text">Matcha</li>
                                <li class="tree_view_text">Pi Lo Chun</li>
                                <li class="tree_view_text"><span class="caret">Green Tea</span>
                                    <ul class="nested">
                                        <li class="tree_view_text">Sencha</li>
                                        <li class="tree_view_text">Gyokuro</li>
                                        <li class="tree_view_text">Matcha</li>
                                        <li class="tree_view_text">Pi Lo Chun</li>
                                        <li class="tree_view_text"><span class="caret">Green Tea</span>
                                            <ul class="nested">
                                                <li class="tree_view_text">Sencha</li>
                                                <li class="tree_view_text">Gyokuro</li>
                                                <li class="tree_view_text">Matcha</li>
                                                <li class="tree_view_text">Pi Lo Chun</li>
                                            </ul>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>

<div id="main">
    <button id="open_sidebar_button" class="openbtn" onclick="openCloseNav()"><</button>
</div>

<!-- The four columns -->
<div class="row">
    <div class="column" th:each="dir : ${dirs}">
        <img th:src="'/img/'+${dir}" th:alt="${dir.getFileName()}" style="width:100%" onclick="displayFunk(this);">
    </div>
</div>

<div class="container">
    <span onclick="this.parentElement.style.display='none'" class="closebtn">&times;</span>
    <img id="expandedImg" style="height:100%">
    <div id="imgtext"></div>
</div>

<script>
    function displayFunk(imgs) {
        const expandImg = document.getElementById("expandedImg");
        const imgText = document.getElementById("imgtext");
        expandImg.src = imgs.src;
        imgText.innerHTML = imgs.alt;
        expandImg.parentElement.style.display = "block";
    }

    function openCloseNav() {
        const osb = document.getElementById("open_sidebar_button");
        if (osb.textContent === "X"){
            osb.textContent = "<"
            document.getElementById("mySidebar").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
        } else if (osb.textContent === "<") {
            osb.textContent = "X"

            document.getElementById("mySidebar").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
        }
    }

    var toggler = document.getElementsByClassName("caret");
    var i;

    for (i = 0; i < toggler.length; i++) {
        toggler[i].addEventListener("click", function () {
            this.parentElement.querySelector(".nested").classList.toggle("active");
            this.classList.toggle("caret-down");
        });
    }
</script>

</body>
</html>

